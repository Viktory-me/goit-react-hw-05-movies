(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{102:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,"default",(function(){return y}));var c=n(59),i=n(0),s=n(4),u=n(18),l=(n(93),n(94)),f=n.n(l),b=n(1);var v=function(e){var t=e.onSubmit;return Object(b.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault();var n=e.target.elements.movie.value;""!==n.trim()?t(n):u.b.dark("\ud83e\udd84Please enter search query",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(b.jsx)("input",{className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"what are you looking for",name:"movie"}),Object(b.jsx)("button",{type:"submit",className:f.a.SearchFormButton})]})},p=n(58),m=n(19),d=n(65),j="idle",g="pending",h="resolved",O="rejected";function _(e){var t=e.movieName,n=e.queryURL,r=Object(i.useState)({}),a=Object(c.a)(r,2),o=a[0],s=(a[1],Object(i.useState)(j)),l=Object(c.a)(s,2),f=l[0],v=l[1],_=Object(i.useState)([]),y=Object(c.a)(_,2),S=y[0],x=y[1];return Object(i.useEffect)((function(){var e=function(e){Object(p.e)(e).then((function(e){0===e.total_results&&u.b.dark("\ud83e\udd84Incorrect!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.total_results>0&&(x(e.results),v(h))})).catch((function(e){console.log(o)}))};""!==t||null===n?t&&e(t):e(n)}),[t,o,n]),f===j?" ":f===g?Object(b.jsx)(m.a,{}):f===O?u.b.dark("\ud83e\udd84Page not found",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):f===h?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(d.a,{movies:S})}):void 0}function y(){var e=Object(s.f)(),t=Object(s.g)(),n=Object(i.useState)(""),r=Object(c.a)(n,2),a=r[0],u=r[1],l=Object(i.useState)([]),f=Object(c.a)(l,2),p=(f[0],f[1]),m=new URLSearchParams(t.search).get("query");return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{onSubmit:function(n){var r;u(n),p([]),r=n,e.push(o(o({},t),{},{search:"query=".concat(r)}))}}),Object(b.jsx)(_,{movieName:a,queryURL:m})]})}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return g}));var r=n(60),a=n.n(r),o=n(61),c=n(62),i=n.n(c),s="https://api.themoviedb.org/3",u="febbe388fd385fbc8b7d8be3042ab312",l="https://image.tmdb.org/t/p/w500",f="".concat(s,"/trending/movie/day?api_key=").concat(u);function b(){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(){var t,n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return b("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"))}function m(){return b(f)}function d(e){return b("".concat(s,"/search/movie?api_key=").concat(u,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function j(e){return b("".concat(s,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"))}function g(e){return b("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US"))}i.a.defaults.baseURL=s},63:function(e,t,n){e.exports={movieCard:"MovieCard_movieCard__1-AYF",image:"MovieCard_image__3fsYT",infoMovie:"MovieCard_infoMovie__YMFwZ",infoMovieRelease:"MovieCard_infoMovieRelease__3HdzP",infoMovieRating:"MovieCard_infoMovieRating__2qh_v",fullInfo:"MovieCard_fullInfo__VDuFv",linkMovie:"MovieCard_linkMovie__19Dfh"}},64:function(e,t,n){e.exports={list:"MovieList_list__J24gA"}},65:function(e,t,n){"use strict";var r=n(4),a=n(9),o=n.p+"static/media/noimage.ed97b93f.jpg",c=n(63),i=n.n(c),s=n(1);var u=function(e){var t=e.id,n=e.title,c=e.original_name,u=e.poster_path,l=e.release_date,f=e.vote_average,b=Object(r.g)();return Object(s.jsx)("li",{className:i.a.movieCard,children:Object(s.jsxs)(a.b,{className:i.a.linkMovie,to:{pathname:"/movies/".concat(t),state:{from:b}},children:[Object(s.jsx)("img",{className:i.a.image,src:u?"https://image.tmdb.org/t/p/w500".concat(u):o,alt:"about movie"}),Object(s.jsxs)("div",{className:i.a.fullInfo,children:[Object(s.jsxs)("span",{className:i.a.infoMovie,children:[n||c," |"," "]}),Object(s.jsx)("span",{className:i.a.infoMovieRelease,children:l?parseInt(l):""})," ",Object(s.jsx)("span",{className:i.a.infoMovieRating,children:f})]})]})})},l=n(64),f=n.n(l);t.a=function(e){var t=e.movies;return Object(s.jsx)("ul",{className:f.a.list,children:t.map((function(e){var t=e.id,n=e.title,r=e.original_name,a=e.poster_path,o=e.release_date,c=e.vote_average;return Object(s.jsx)(u,{id:t,title:n,original_name:r,poster_path:a,release_date:o,vote_average:c},t)}))})}},93:function(e,t,n){},94:function(e,t,n){e.exports={SearchForm:"SearchForm_SearchForm__3vw8h",SearchFormButton:"SearchForm_SearchFormButton__2RYbo",SearchFormInput:"SearchForm_SearchFormInput__SnNq6"}}}]);
//# sourceMappingURL=MoviePage.ec8de132.chunk.js.map