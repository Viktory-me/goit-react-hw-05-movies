(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{13:function(e,t,a){e.exports={movieCard:"MovieCard_movieCard__1-AYF",image:"MovieCard_image__3fsYT",infoMovie:"MovieCard_infoMovie__YMFwZ",infoMovieRelease:"MovieCard_infoMovieRelease__3HdzP",infoMovieRating:"MovieCard_infoMovieRating__2qh_v",fullInfo:"MovieCard_fullInfo__VDuFv",linkMovie:"MovieCard_linkMovie__19Dfh"}},14:function(e,t,a){e.exports={wrapper:"Review_wrapper__3EAP2",list:"Review_list__3G0iy",title:"Review_title__3ZoPT",text:"Review_text__CqN7M",titleName:"Review_titleName__6KZvI",item:"Review_item__1ps1q"}},16:function(e,t,a){e.exports={link:"Navigation_link__2blnv",activeLink:"Navigation_activeLink__gsUdQ Navigation_link__2blnv",nav:"Navigation_nav__2Obpw"}},17:function(e,t,a){e.exports={list:"Cast_list__3dwjR",item:"Cast_item__wwfBu",image:"Cast_image__1znJS",wrapper:"Cast_wrapper__3wLKz"}},21:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__3vw8h",SearchFormButton:"SearchForm_SearchFormButton__2RYbo",SearchFormInput:"SearchForm_SearchFormInput__SnNq6"}},38:function(e,t,a){e.exports={list:"MovieList_list__J24gA"}},46:function(e,t,a){},53:function(e,t,a){},6:function(e,t,a){e.exports={containerMovie:"MovieDetailsPage_containerMovie__23eJa",posterMovie:"MovieDetailsPage_posterMovie__3b7HX",aboutInfo:"MovieDetailsPage_aboutInfo__30Pkf",infoDetails:"MovieDetailsPage_infoDetails__Nh_EP",titleMovie:"MovieDetailsPage_titleMovie__2qCn1",list:"MovieDetailsPage_list__189vr",link:"MovieDetailsPage_link__3rytZ",activeLink:"MovieDetailsPage_activeLink__1AZ8h MovieDetailsPage_link__3rytZ"}},93:function(e,t,a){"use strict";a.r(t);var i=a(0),c=a.n(i),n=a(18),s=a.n(n),r=a(10),o=(a(46),a(4)),l=a(16),j=a.n(l),v=a(1),b=function(){return Object(v.jsxs)("nav",{className:j.a.nav,children:[Object(v.jsx)(r.c,{exact:!0,to:"/",className:j.a.link,activeClassName:j.a.activeLink,children:"Home"}),Object(v.jsx)(r.c,{to:"/movies",className:j.a.link,activeClassName:j.a.activeLink,children:"Movies"})]})};function m(){return Object(v.jsx)("header",{children:Object(v.jsx)(b,{})})}var d=a(12),u=(a(53),a(5)),h=a(20),_=a.n(h),O=a(26),p=a.n(O),x=a(36),f=a(37),g=a.n(f),N="https://api.themoviedb.org/3",M="febbe388fd385fbc8b7d8be3042ab312",w="https://image.tmdb.org/t/p/w500",k="".concat(N,"/trending/movie/day?api_key=").concat(M);function S(){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(p.a.mark((function e(){var t,a,i,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,a);case 4:if(!(i=e.sent).ok){e.next=11;break}return e.next=8,i.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.a.defaults.baseURL=N;var F=a.p+"static/media/noimage.ed97b93f.jpg",P=a(13),I=a.n(P);var R=function(e){var t=e.id,a=e.title,i=e.original_name,c=e.poster_path,n=e.release_date,s=e.vote_average,l=Object(o.g)();return Object(v.jsx)("li",{className:I.a.movieCard,children:Object(v.jsxs)(r.b,{className:I.a.linkMovie,to:{pathname:"/movies/".concat(t),state:{from:l}},children:[Object(v.jsx)("img",{className:I.a.image,src:c?"https://image.tmdb.org/t/p/w500".concat(c):F,alt:"about movie"}),Object(v.jsxs)("div",{className:I.a.fullInfo,children:[Object(v.jsxs)("span",{className:I.a.infoMovie,children:[a||i," |"," "]}),Object(v.jsx)("span",{className:I.a.infoMovieRelease,children:n?parseInt(n):""})," ",Object(v.jsx)("span",{className:I.a.infoMovieRating,children:s})]})]})})},D=a(38),y=a.n(D);var L=function(e){var t=e.movies;return Object(v.jsx)("ul",{className:y.a.list,children:t.map((function(e){var t=e.id,a=e.title,i=e.original_name,c=e.poster_path,n=e.release_date,s=e.vote_average;return Object(v.jsx)(R,{id:t,title:a,original_name:i,poster_path:c,release_date:n,vote_average:s},t)}))})},B="pending",E="resolved",q="rejected";function H(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(i.useState)(""),s=Object(u.a)(n,2),r=s[0],o=s[1],l=Object(i.useState)(B),j=Object(u.a)(l,2),b=j[0],m=j[1];return Object(i.useEffect)((function(){m(B),S(k).then((function(e){return c(e.results)})).then(m(E)).catch((function(e){console.log(r),o(q)}))}),[r]),b===B?Object(v.jsx)(_.a,{}):b===q?d.b.dark("\ud83e\udd84Page not found",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):b===E?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L,{movies:a})}):void 0}a(91);var Z=a(21),A=a.n(Z);var J=function(e){var t=e.onSubmit;return Object(v.jsxs)("form",{className:A.a.SearchForm,onSubmit:function(e){e.preventDefault();var a=e.target.elements.movie.value;""!==a.trim()?t(a):d.b.dark("\ud83e\udd84Please enter search query",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(v.jsx)("input",{className:A.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"what are you looking for",name:"movie"}),Object(v.jsx)("button",{type:"submit",className:A.a.SearchFormButton})]})};function U(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],Object(i.useState)(0)),c=Object(u.a)(a,2),n=(c[0],c[1],Object(i.useState)("")),s=Object(u.a)(n,2);s[0],s[1],Object(o.f)(),Object(o.g)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(J,{})})}var Y,z=a(39),T=a(40).a.div(Y||(Y=Object(z.a)(["\n  max-width: 1024px;\n\n  margin: 0 auto;\n"]))),G=function(e){var t=e.children;return Object(v.jsx)(T,{children:t})},K=a(6),Q=a.n(K),V=a(17),X=a.n(V);function W(e){var t=e.movieId,a=Object(i.useState)([]),c=Object(u.a)(a,2),n=c[0],s=c[1];return Object(i.useEffect)((function(){var e;(e=t,S("".concat(N,"/movie/").concat(e,"/credits?api_key=").concat(M,"&language=en-US"))).then((function(e){return s(e.cast)})),window.scrollTo({top:600,behavior:"smooth"})}),[t]),Object(v.jsx)(v.Fragment,{children:n&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{className:X.a.list,children:n.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:e.profile_path&&Object(v.jsxs)("li",{className:X.a.item,children:[Object(v.jsx)("img",{className:X.a.image,src:w+e.profile_path,alt:e.name,width:"190"}),Object(v.jsxs)("div",{className:X.a.wrapper,children:[Object(v.jsxs)("h3",{children:[" ",e.name]}),Object(v.jsx)("h4",{children:e.character})]})]},t)})}))})})})}var $=a(14),ee=a.n($);function te(e){var t=e.movieId,a=Object(i.useState)([]),c=Object(u.a)(a,2),n=c[0],s=c[1];return Object(i.useEffect)((function(){var e;(e=t,S("".concat(N,"/movie/").concat(e,"/reviews?api_key=").concat(M,"&language=en-US"))).then((function(e){return s(e.results)}))}),[t]),Object(v.jsx)("div",{className:ee.a.wrapper,children:n.length>0?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("ul",{className:ee.a.list,children:[Object(v.jsx)("h3",{className:ee.a.titleName,children:"Reviews"}),n.map((function(e,t){return Object(v.jsxs)("li",{className:ee.a.item,children:[Object(v.jsxs)("p",{className:ee.a.title,children:[" ",e.author,":"]}),Object(v.jsxs)("p",{className:ee.a.text,children:['" ',e.content,'"']})]},t)}))]})}):Object(v.jsx)("p",{className:ee.a.text,children:"No reviews to show"})})}var ae="pending",ie="resolved",ce="rejected";function ne(){var e=Object(o.h)().movieId,t=Object(o.i)(),a=t.url,c=t.path,n=Object(i.useState)({}),s=Object(u.a)(n,2),l=s[0],j=s[1],b=Object(i.useState)(ae),m=Object(u.a)(b,2),h=m[0],O=m[1],p=Object(i.useState)(""),x=Object(u.a)(p,2),f=x[0],g=x[1];return Object(i.useEffect)((function(){var t;O(ae),(t=e,S("".concat(N,"/movie/").concat(t,"?api_key=").concat(M,"&language=en-US"))).then(j).then(O(ie)).catch((function(e){console.log(f),g(ce)}))}),[e,f]),h===ae?Object(v.jsx)(_.a,{}):h===ce?d.b.dark("\ud83e\udd84Page not found",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):h===ie?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:Q.a.containerMovie,children:[Object(v.jsx)("img",{className:Q.a.posterMovie,src:w+l.poster_path,alt:l.original_title}),Object(v.jsxs)("div",{className:Q.a.aboutInfo,children:[Object(v.jsxs)("nav",{className:Q.a.nav,children:[Object(v.jsx)(r.c,{to:"".concat(a,"/cast"),className:Q.a.link,activeClassName:Q.a.activeLink,children:"Cast"}),Object(v.jsx)(r.c,{to:"".concat(a,"/reviews"),className:Q.a.link,activeClassName:Q.a.activeLink,children:"Reviews"})]}),Object(v.jsx)("h2",{className:Q.a.titleMovie,children:l.original_title}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:Q.a.infoDetails,children:"Raring:"}),Object(v.jsx)("span",{children:l.vote_average})]}),l.genres&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{className:Q.a.infoDetails,children:"Genres:"}),Object(v.jsx)("ul",{className:Q.a.list,children:l.genres.map((function(e,t){return Object(v.jsx)("li",{className:Q.a.item,children:e.name},t)}))})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{className:Q.a.infoDetails,children:"About:"}),Object(v.jsx)("span",{children:l.overview})]})]})]}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"".concat(c,":movieId/cast"),children:Object(v.jsx)(W,{movieId:e})}),Object(v.jsx)(o.a,{path:"".concat(c,":movieId/reviews"),children:Object(v.jsx)(te,{movieId:e})})]})]}):void 0}var se=function(){return Object(v.jsxs)(G,{children:[Object(v.jsx)(m,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/",exact:!0,children:Object(v.jsx)(H,{})}),Object(v.jsx)(o.a,{path:"/movies",exact:!0,children:Object(v.jsx)(U,{})}),Object(v.jsx)(o.a,{path:"/movies/:movieId",children:Object(v.jsx)(ne,{})})]}),Object(v.jsx)(d.a,{})]})};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(r.a,{children:Object(v.jsx)(se,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.b5ca2816.chunk.js.map